<!DOCTYPE html>
<html>
    <head>
        <title>MenuSerigrafik</title>
	<meta charset=UTF-8" />
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="style.css"/>
        <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js" charset="utf-8"></script>
        <script type="text/javascript" src="turnjs4/lib/turn.min.js"></script>
    </head>
    <body>
        <div class="haut">
            <p>Essayez nos porte-menu !</p>
            <p id="sousTexte">Sélectionnez les options qui vous conviennent et tournez les pages.</p>
        </div>
        <div id="global">
            <div id="gauche">
                <div id="serigrafik">
                    <div class="hard"><div class="innerpageHard"></div></div> 
                    <div class="page"><div class="innerpage"></div></div>
                    <div class="page"><div class="innerpage"></div></div> 
                    <div class="hard"><div class="innerpageHard"></div></div>
                </div>
            </div>
            <div id="options">
                <table class="tableOptions">
                    <tr>
                        <td class="modele">MenuSerigrafik</td>
                    </tr>
                </table>
                <table class="tableOptions">
                    <tr>
                        <td>Format :</td>
                    </tr>
                    <tr>
                        <td>
                            <select onchange='formatMenu()' id="selectFormat">
                                <optgroup label="Classiques :">
                                    <option selected>A4</option>
                                    <option>A5</option>
                                    <option>A6</option>
                                    <option>Cocktail</option>
                                    <option>MiniCocktail</option>
                                    <option>Carré</option>
                                </optgroup>
                                <optgroup label="Spéciales :">
                                    <option>Grand</option>
                                </optgroup>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>Nombre de pages : <span id="affNbPages">4</span></td>
                    </tr>
                    <tr>
                        <td>
                            <div id="lesBoutons">
                                <button id="pagePlus">+</button><button id="pageMoins">-</button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>Couleur de fond :</td>
                    </tr>
                    <tr>
                        <td>
                            <select onchange='couleurFond()' id="selectCouleur">
                                <option selected>Blanc</option>
                                <option>Marron</option>
                                <option>Noir</option>
                                <option>Gris</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>Couleur de bordure :</td>
                    </tr>
                    <tr>
                        <td>
                            <select onchange='couleurBordure()' id="selectBordure">
                                <option>Vert foncé</option>
                                <option>Vert anis</option>
                                <option>Bleu gris</option>
                                <option>Bleu foncé</option>
                                <option>Bleu clair</option>
                                <option>Jaune</option>
                                <option>Orange</option>
                                <option>Rouge</option>
                                <option>Bordeaux</option>
                                <option>Violet</option>
                                <option>Crème</option>
                                <option>Marron</option>
                                <option>Noir</option>
                                <option>Gris</option>
                                <option>Rose</option>
                                <option>Blanc</option>
                            </select>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </body>
    <script>
        //######################################################################################################
        //création du menu menu
        $("#serigrafik").turn({
            width: 793,
            height: 600,
        });
        
        //######################################################################################################
        //select du choix du format
        function formatMenu() {
            switch ($("#selectFormat option:selected").text()) {
                case "A4":
                    $("#serigrafik").turn("size", 793, 600);
                    //$("#apercu").turn("size", 793, 600);
                    break;
                case "A5":
                    $("#serigrafik").turn("size", 600, 500);
                    //$("#apercu").turn("size", 600, 500);
                    break;
                case "A6":
                    $("#serigrafik").turn("size",500, 400);
                    //$("#apercu").turn("size",500, 400);
                    break;
                case "Cocktail":
                    $("#serigrafik").turn("size", 650, 600);
                    //$("#apercu").turn("size", 650, 600);
                    break;
                case "MiniCocktail":
                    $("#serigrafik").turn("size", 450, 400);
                    //$("#apercu").turn("size", 450, 400);
                    break;
                case "Carré":
                    $("#serigrafik").turn("size", 800, 400);
                    //$("#apercu").turn("size", 800, 400);
                    break;
                case "Grand":
                    $("#serigrafik").turn("size", 850, 700);
                    //$("#apercu").turn("size", 850, 700);
                    break;
            }
        }
        
        //######################################################################################################
        //couleur de fond :
        function couleurFond() {
            switch ($("#selectCouleur option:selected").text()) {
                case "Blanc":
                    $(".page .innerpage").css( "background-color", "white" );
                    $(".page").css( "background-color", "white" );
                    break;
                case "Marron":
                    $(".page .innerpage").css( "background-color", "#333333" );
                    $(".page").css( "background-color", "#333333" );
                    break;
                case "Noir":
                    $(".page .innerpage").css( "background-color", "black" );
                    $(".page").css( "background-color", "black" );
                    break;
                case "Gris":
                    $(".page .innerpage").css( "background-color", "#999999" );
                    $(".page ").css( "background-color", "#999999" );
                    break;
            }
        }
        
        //######################################################################################################
        //+ 2 pages
        var nbMax = 6;
        $("#pagePlus").click(function() {
            if (nbMax >= 4) {
                $("#serigrafik").turn("pages", nbMax);
                var indice = 3
                var nouvellePage = $("<div />").append($("<div />", {"class": "innerpage"}));
                $("#serigrafik").turn("addPage", nouvellePage, indice);
                indice++;
                nbMax++
                nouvellePage = $("<div />").append($("<div />", {"class": "innerpage"}));
                $("#serigrafik").turn("addPage", nouvellePage, indice);
                indice++;
                nbMax++;
            }
        });
        
        //######################################################################################################
        //- 2 pages
        $("#pageMoins").click(function() {
            var nbPage = $("#serigrafik").turn("pages");
            if (nbPage <= 4) {
                alert('Vous ne pouvez plus supprimer de page !');
            }
            if (nbPage > 4) {
                var laPageASupp = nbPage-3;
                $("#serigrafik").turn("removePage",laPageASupp);
                laPageASupp--;
                nbMax--;
                $("#serigrafik").turn("removePage", laPageASupp);
                nbMax--;
            }
        });
    </script>
</html>