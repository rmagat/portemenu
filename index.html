<!DOCTYPE html>
<html>
    <head>
        <title>Porte-menu</title>
	<meta charset=UTF-8" />
	<link rel="stylesheet" type="text/css" href="style.css"/>
        <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js" charset="utf-8"></script>
        <script type="text/javascript" src="turnjs4/lib/turn.min.js"></script>
    </head>
    <body>
        <div id="haut">
            <p>Essayez nos porte-menu !</p>
            <p id="sousTexte">Sélectionnez les options qui vous conviennent et tournez les pages.</p>
        </div>
        <div id="global">
	    <div id="gauche">
		<div id="flipbook">
		    <div class="page"><div class="innerpage">Page 1</div></div> 
		    <div class="page"><div class="innerpage">Page 2</div></div>
		    <div class="page"><div class="innerpage">Page <span id="avantDerniere">3</span></div></div> 
		    <div class="page"><div class="innerpage">Page <span id="derniere">4</span></div></div>
		</div>
	    </div>
	    <div id="options">
		<table class="tableOptions">
		    <tr>
			<td class="modele">MenuBasik</td>
		    </tr>
		</table>
	        <table class="tableOptions">
		    <tr>
			<td>Format :</td>
		    </tr>
		    <tr>
	                <td>
			    <select onchange='formatMenu()' id="selectFormat">
				<optgroup label="Classiques :">
				    <option selected>A4</option>
				    <option>A5</option>
				    <option>A6</option>
				</optgroup>
				<optgroup label="Spéciales :">
				    <option>Cocktail</option>
				    <option>MiniCocktail</option>
				    <option>Carré</option>
				    <option>Grand</option>
				</optgroup>
			    </select>
			</td>
		    </tr>
		    <tr>
			<td>Nombre de pages : <span id="affNbPages">4</span></td>
		    </tr>
		    <tr>
			<td>
			    <div id="lesBoutons">
				<button id="pagePlus">+</button><button id="pageMoins">-</button>
			    </div>
			</td>
		    </tr>
		    <tr>
			<td>Couleur de fond :</td>
		    </tr>
		    <tr>
			<td>
			    <select onchange='couleurFond()' id="selectCouleur">
				<option selected>Blanc</option>
				<option>Marron</option>
				<option>Noir</option>
				<option>Gris</option>
			    </select>
			</td>
		    </tr>
		    <tr>
			<td>Couleur de bordure :</td>
		    </tr>
		    <tr>
			<td>
			    <select onchange='couleurBordure()' id="selectBordure">
				<option>Vert foncé</option>
				<option>Vert anis</option>
				<option>Bleu gris</option>
				<option>Bleu foncé</option>
				<option>Bleu clair</option>
				<option>Jaune</option>
				<option>Orange</option>
				<option>Rouge</option>
				<option>Bordeaux</option>
				<option>Violet</option>
				<option>Crème</option>
				<option>Marron</option>
				<option>Noir</option>
				<option>Gris</option>
				<option>Rose</option>
				<option>Mauve</option>
			    </select>
			</td>
		    </tr>
		</table>
	    </div>
        </div>
    <script type="text/javascript">
    //######################################################################################################
    //création du menu menu
    $("#flipbook").turn({
	width: 793,
	height: 600,
    });
    formatMenu();
    couleurBordure();
    couleurFond();
    //######################################################################################################
    //select du choix du format
    function formatMenu() {
	switch ($("#selectFormat option:selected").text()) {
  	    case "A4":
		$("#flipbook").turn("size", 793, 600);
		break;
	    case "A5":
		$("#flipbook").turn("size", 600, 500);
		break;
	    case "A6":
		$("#flipbook").turn("size",500, 400);
		break;
	    case "Cocktail":
		$("#flipbook").turn("size", 650, 600);
		break;
	    case "MiniCocktail":
		$("#flipbook").turn("size", 450, 400);
		break;
	    case "Carré":
		$("#flipbook").turn("size", 800, 400);
		break;
	    case "Grand":
		$("#flipbook").turn("size", 850, 700);
		break;
	}
    }
    
    //######################################################################################################
    //couleur de fond :
    function couleurFond() {
	switch ($("#selectCouleur option:selected").text()) {
	    case "Blanc":
		$(".page .innerpage").css( "background-color", "white" );
		$(".page").css( "background-color", "white" );
		break;
	    case "Marron":
		$(".page .innerpage").css( "background-color", "#333333" );
		$(".page").css( "background-color", "#333333" );
		break;
	    case "Noir":
		$(".page .innerpage").css( "background-color", "black" );
		$(".page").css( "background-color", "black" );
		break;
	    case "Gris":
		$(".page .innerpage").css( "background-color", "#999999" );
		$(".page ").css( "background-color", "#999999" );
		break;
	}
    }
    
    //######################################################################################################
    //couleur de la bordure :
    function couleurBordure() {
	switch ($("#selectBordure option:selected").text()) {
	    case "Blanc":
		$(".page .innerpage").css( "border", "27px solid #FFFFFF" );
		break;
	    case "Vert foncé":
		$(".page .innerpage").css( "border", "27px solid #006633" );
		break;
	    case "Vert anis":
		$(".page .innerpage").css( "border", "27px solid #cccc00" );
		break;
	    case "Bleu gris":
		$(".page .innerpage").css( "border", "27px solid #006666" );
		break;
	    case "Bleu foncé":
		$(".page .innerpage").css( "border", "27px solid #003399" );
		break;
	    case "Bleu clair":
		$(".page .innerpage").css( "border", "27px solid #66ccff" );
		break;
	    case "Jaune":
		$(".page .innerpage").css( "border", "27px solid #ffcc00" );
		break;
	    case "Orange":
		$(".page .innerpage").css( "border", "27px solid #ff9900" );
		break;
	    case "Rouge":
		$(".page .innerpage").css( "border", "27px solid #cc0033" );
		break;
	    case "Bordeaux":
		$(".page .innerpage").css( "border", "27px solid #993333" );
		break;
	    case "Violet":
		$(".page .innerpage").css( "border", "27px solid #663366" );
		break;
	    case "Crème":
		$(".page .innerpage").css( "border", "27px solid #cc9966" );
		break;
	    case "Marron":
		$(".page .innerpage").css( "border", "27px solid #333333" );
		break;
	    case "Noir":
		$(".page .innerpage").css( "border", "27px solid black" );
		break;
	    case "Gris":
		$(".page .innerpage").css( "border", "27px solid #999999" );
		break;
	    case "Rose":
		$(".page .innerpage").css( "border", "27px solid #cc3366" );
		break;
	    case "Mauve":
		$(".page .innerpage").css( "border", "27px solid #9999cc" );
		break;
	}
    }
    
    //######################################################################################################
    //+ 2 pages
    var numPage = 5;
    $("#pagePlus").click(function() {
	var nbMax = $("#flipbook").turn("pages");
	var leNum = document.getElementById('affNbPages');
	//si le nombre de page et supérieur à 11
	if (nbMax > 11) {
	    alert('Pas plus de 12 pages !');
	}
	//si le nombre est inférieur à 11
	if (nbMax<11) {
	    var nouvellePage = $("<div />").append($("<div />", {"class": "innerpage"}).html("Page "+numPage));
	    $("#flipbook").turn("addPage", nouvellePage);
	    numPage++;
	    nouvellePage = $("<div />").append($("<div />", {"class": "innerpage"}).html("Page "+numPage));
	    $("#flipbook").turn("addPage", nouvellePage);
	    numPage++;
	    leNum.innerHTML = nbMax+2;
	    couleurBordure();
	    couleurFond();
	}
    });
    
    //######################################################################################################
    //- 2 pages
    $("#pageMoins").click(function() {
	var nbMax = $("#flipbook").turn("pages");
	//si le nombre maximun de page est égale à 4
	if (nbMax == 4) {
	    alert("Pas moins de 4 pages !");
	}
	//si le nombre de page est supérieur à 4
	if (nbMax > 4) {
	    var laPageASupp = nbMax;
	    $("#flipbook").turn("removePage", laPageASupp);
	    laPageASupp--;
	    numPage--;
	    $("#flipbook").turn("removePage", laPageASupp);
	    numPage--;
	    var leNum = document.getElementById('affNbPages');
	    leNum.innerHTML = numPage-1;
	    couleurBordure();
	    couleurFond();
	}
    });
    </script>
    </body>
</html>