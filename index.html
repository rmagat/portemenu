<!DOCTYPE html>
<html>
    <head>
        <title>Porte-menu</title>
	<meta charset=UTF-8" />
	<link rel="stylesheet" type="text/css" href="style.css"/>
        <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js" charset="utf-8"></script>
        <script type="text/javascript" src="turnjs4/lib/turn.min.js"></script>
    </head>
    <body>
        <div id="haut">
            <p>Essayez nos porte-menu !</p>
            <p id="sousTexte">Sélectionnez les options qui vous conviennent et tournez les pages.</p>
        </div>
        <div id="global">
	    <div id="gauche">
		<div id="flipbook">
			<div class="page"><div class="innerpage">Page 1</div></div> 
			<div class="page"><div class="innerpage">Page 2</div></div>
			<div class="page"><div class="innerpage">Page <span id="avantDerniere">3</span></div></div> 
			<div class="page"><div class="innerpage">Page <span id="derniere">4</span></div></div>
		</div>
	    </div>
	    <div id="options">
	        <table id="tableOptions">
		    <tr>
			<td>Format :</td>
		    </tr>
		    <tr>
	                <td>
			    <select id="selectFormat">
				<optgroup label="Classiques :">
				    <option selected>A4</option>
				    <option>A5</option>
				    <option>A6</option>
				</optgroup>
				<optgroup label="Spéciales :">
				    <option>Cocktail</option>
				    <option>MiniCocktail</option>
				    <option>Carré</option>
				    <option>SpécialGrand</option>
				</optgroup>
			    </select>
			</td>
		    </tr>
		    <tr>
			<td>Nombre de pages : <span id="affNbPages">4</span></td>
		    </tr>
		    <tr>
			<td>
			    <button id="pagePlus">+</button><button id="pageMoins">-</button>
			</td>
		    </tr>
		    <tr>
			<td>Couleur de fond :</td>
		    </tr>
		    <tr>
			<td>
			    <select onchange='couleurFond()' id="selectCouleur">
				<option selected>Blanc</option>
				<option>Orange</option>
				<option>Bleu</option>
				<option>Rouge</option>
				<option>Noir</option>
				<option>Gris</option>
			    </select>
			</td>
		    </tr>
		    <tr>
			<td>Couleur du texte :</td>
		    </tr>
		    <tr>
			<td>
			    <select onchange='couleurTexte()' id="selectCouleurTexte">
				<option>Blanc</option>
				<option>Orange</option>
				<option>Bleu</option>
				<option>Rouge</option>
				<option selected>Noir</option>
				<option>Gris</option>
			    </select>
			</td>
		    </tr>
		    <tr>
			<td>Couleur de bordure :</td>
		    </tr>
		    <tr>
			<td>
			    <select onchange='couleurBordure()' id="selectBordure">
				<option selected>Blanc</option>
				<option>Orange</option>
				<option>Bleu</option>
				<option value="3">Rouge</option>
				<option value="4">Noir</option>
				<option value="5">Gris</option>
			    </select>
			</td>
		    </tr>
		    <!--
		    <tr>
			<td><button id="zoom" style="width: 167px;">Zoom</button></td>
		    </tr>
		    -->
		</table>
	    </div>
        </div>
    <script type="text/javascript">
    //######################################################################################################
    //création du menu menu
    $("#flipbook").turn({
	width: 793,
	height: 600,
    });
    
    //######################################################################################################
    //select du choix du format
    $("#selectFormat").change(function() {
	switch ($("#selectFormat option:selected").text()) {
  	    case "A4":
			$("#flipbook").turn("size", 793, 600);
		break;
	    case "A5":
		$("#flipbook").turn("size", 600, 500);
		break;
	    case "A6":
		$("#flipbook").turn("size",500,400);
		break;
	    case "Cocktail":
		$("#flipbook").turn("size", 650, 600);
		break;
	    case "MiniCocktail":
		$("#flipbook").turn("size", 550, 600);
		break;
	    case "Carré":
		$("#flipbook").turn("size", 800, 400);
		break;
	    case "SpécialGrand":
		$("#flipbook").turn("size", 850, 700);
		break;
	}
    });
    
    //######################################################################################################
    //couleur de fond :
    function couleurFond() {
	switch ($("#selectCouleur option:selected").text()) {
	    case "Blanc":
		$(".page .innerpage").css( "background-color", "white" );
		break;
	    case "Orange":
		$(".page .innerpage").css( "background-color", "coral" );
		break;
	    case "Bleu":
		$(".page .innerpage").css( "background-color", "blue" );
		break;
	    case "Rouge":
		$(".page .innerpage").css( "background-color", "red" );
		break;
	    case "Noir":
		$(".page .innerpage").css( "background-color", "black" );
		break;
	    case "Gris":
		$(".page .innerpage").css( "background-color", "gray" );
		break;
	}
    }
    
    //######################################################################################################
    //couleur du texte :
    function couleurTexte() {
	switch ($("#selectCouleurTexte option:selected").text()) {
	    case "Blanc":
		$(".page .innerpage").css( "color", "white" );
		break;
	    case "Orange":
		$(".page .innerpage").css( "color", "coral" );
		break;
	    case "Bleu":
		$(".page .innerpage").css( "color", "blue" );
		break;
	    case "Rouge":
		$(".page .innerpage").css( "color", "red" );
		break;
	    case "Noir":
		$(".page .innerpage").css( "color", "black" );
		break;
	    case "Gris":
		$(".page .innerpage").css( "color", "gray" );
		break;
	}
    }
    
    //######################################################################################################
    //couleur de la bordure :
    function couleurBordure() {
	switch ($("#selectBordure option:selected").text()) {
	    case "Blanc":
		$(".page .innerpage").css( "border", "20px solid white" );
		break;
	    case "Orange":
		$(".page .innerpage").css( "border", "20px solid coral" );
		break;
	    case "Bleu":
		$(".page .innerpage").css( "border", "20px solid blue" );
		break;
	    case "Rouge":
		$(".page .innerpage").css( "border", "20px solid red" );
		break;
	    case "Noir":
		$(".page .innerpage").css( "border", "20px solid black" );
		break;
	    case "Gris":
		$(".page .innerpage").css( "border", "20px solid gray" );
		break;
	}
    }
    
    //######################################################################################################
    //+ 2 pages
    var numPage = 5;
    $("#pagePlus").click(function() {
	var nouvellePage = $("<div />").append($("<div />", {"class": "innerpage"}).html("Page "+numPage));
	$("#flipbook").turn("addPage", nouvellePage);
	numPage++;
	nouvellePage = $("<div />").append($("<div />", {"class": "innerpage"}).html("Page "+numPage));
	$("#flipbook").turn("addPage", nouvellePage);
	numPage++;
	couleurBordure();
	couleurTexte();
	couleurFond();
	
	var leNum = document.getElementById('affNbPages');
	leNum.innerHTML = numPage-1;
    });
    
    //######################################################################################################
    //- 2 pages
    $("#pageMoins").click(function() {
	var nbMax = $("#flipbook").turn("pages");
	//si le nombre maximun de page est égale à 4
	if (nbMax == 4) {
	    alert("Pas moins de 4 pages !");
	}
	//si le nombre de page est supérieur à 4
	if (nbMax > 4) {
	    var laPageASupp = nbMax;
	    $("#flipbook").turn("removePage", laPageASupp);
	    laPageASupp--;
	    numPage--;
	    $("#flipbook").turn("removePage", laPageASupp);
	    numPage--;
	    var leNum = document.getElementById('affNbPages');
	    leNum.innerHTML = numPage-1;
	}
    });
    </script>
    </body>
</html>